# lab3 

## 实验题目

使用蒙特卡罗模拟求定积分

## 实验目的

使用 python 进行蒙特卡罗模拟，求定积分的近似值。

## 实验环境

Windows11

Pycharm2023.1

Anaconda

## 实验内容

使用“向不规则图形扔大量的针”的模拟方式，统计落在长方形中不规则图形内的 针的数量，利用公式计算出函数 $f(x)=sin(x)$在 $0≤x≤\pi$范围内的定积分近似值。 实验需要计算 i=1000, 2000, 4000, 8000, 16000, 32000, 64000, 128000（i 为针的 数量）时定积分的近似值以及近似值与真实值之差的绝对值（保留 5 位有效数字）

## 代码分析

代码的主要部分由蒙特卡洛函数构成，该函数构造了一个模拟量success表示投放到目标区域内的指针数，然后分别利用random函数在$sin(x)$定义域$(0,\pi)$和值域$(0,1)$生成一个二维坐标，若其在函数$f(x)=sin(x)$内，则success值加一，反之则不加，最后求出落在函数内的概率再乘上长方形的面积即可大致估算出函数的定积分

```python
def Monte_Carlo(n):
    success=0
    for i in range(n):
        x=random.uniform(0,math.pi)
        y=random.uniform(0,1)
        if math.sin(x)>=y:
            success+=1
    return success/n*math.pi
```

## 分析总结

本次实验较为简单易懂，很好的考察了利用python实现模拟问题